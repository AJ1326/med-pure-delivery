<ng-template #rt let-r="result" let-t="term">
  <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
</ng-template>

<form class="search-container">
  <!--  <button class="btn btn-dark btn-fw btn-add-order" type="button" (click)="openModal(addmedicine)">+</button>-->
  <input
    type="text"
    id="search-bar"
    placeholder="Search by {{ list_type }} name or id."
    class="form-control"
    [(ngModel)]="model"
    (ngModelChange)="search($event)"
    name="searching"
  />
  <a><img class="search-icon" src="http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png"/></a>
  <span *ngIf="searching">searching...</span>

  <div class="invalid-feedback" *ngIf="searchFailed">Sorry, suggestions could not be loaded.</div>
</form>
<div class="row salesman-retailer-list">
  <div class="col-12 grid-margin">
    <br />
    <h5 class="card-title mb-4" style="color: #ec2c70;">{{ list_type }} list</h5>
    <div class="card">
      <div class="card-body">
        <div *ngIf="listOfUsers.length === 0">No {{ list_type }}s found.</div>
        <div *ngIf="listOfUsers.length > 0">
          <div class="fluid-container" *ngFor="let user of listOfUsers">
            <div class="ticket-card mt-3 border-bottom" style="display: flex; flex-direction: row; flex-grow: 1">
              <div style="flex-grow: 1;">
                <img
                  class="img-sm rounded-circle mb-4 mb-md-0"
                  src="../../../assets/images/show-faces/retailer.png"
                  alt="profile image"
                />
              </div>
              <div class="ticket-details" style="float: right;">
                <div class="d-flex" style="display: flex; flex-direction: column;">
                  <div style="display: flex; flex-direction: row;">
                    <p class="text-dark font-weight-semibold mr-2 mb-0 no-wrap">{{ user['shop_name'] }} :</p>
                    <p class="text-primary mr-1 mb-0">[{{ user['owner_name'] }}]</p>
                  </div>
                  <div>
                    <div class="ticket-actions" *ngIf="list_type === 'Retailer'">
                      <div class="btn-group dropdown" style="float: right;" *ngIf="fuctionality == 'place_order'">
                        <button
                          (click)="navigateAddOrderPage('order', user['slug'])"
                          type="button"
                          class="btn btn-success btn-sm"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          Order Now
                        </button>
                      </div>
                      <div class="btn-group dropdown" style="float: right;" *ngIf="fuctionality == 'order_list'">
                        <button
                          (click)="navigateAddOrderPage('order-list', user['slug'])"
                          type="button"
                          class="btn btn-success btn-sm"
                          data-toggle="dropdown"
                          aria-haspopup="true"
                          aria-expanded="false"
                        >
                          Order List
                        </button>
                      </div>
                    </div>
                  </div>
                  <!--                <p class="mb-0 ellipsis">Donec rutrum congue leo eget malesuada.</p>-->
                </div>
                <!--              <p class="text-gray ellipsis mb-2">Donec rutrum congue leo eget malesuada. Quisque velit nisi, pretium ut lacinia in, elementum id enim vivamus.</p>-->
                <!--              <div class="row text-gray d-md-flex d-none">-->
                <!--                <div class="col-4 d-flex">-->
                <!--                  <small class="mb-0 mr-2 text-muted text-muted">Last responded :</small>-->
                <!--                  <small class="Last-responded mr-2 mb-0 text-muted text-muted">3 hours ago</small>-->
                <!--                </div>-->
                <!--                <div class="col-4 d-flex">-->
                <!--                  <small class="mb-0 mr-2 text-muted text-muted">Due in :</small>-->
                <!--                  <small class="Last-responded mr-2 mb-0 text-muted text-muted">2 Days</small>-->
                <!--                </div>-->
                <!--              </div>-->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="outer-add-container" *ngIf="list_type === 'Retailer'">
  <div class="floatcontainer">
    <button
      (click)="navigateAddOrderPage('add-retailer')"
      style="cursor: pointer; width: 75px; height: 75px; background-color: #ec2c70;"
      class="btn social-btn btn-facebook btn-rounded"
      type="button"
    >
      <i style="color: white; font-size: 32px" class="mdi mdi-plus"></i>
    </button>
  </div>
</div>

<!--<div style="display: flex; flex-direction: column">-->
<!--  <img style="width: 100%; margin: auto;" src="../../../assets/images/salesman/addRetailer.svg">-->
<!--  <span style="display: table; margin: auto; padding: 3em;">-->
<!--    <button class="btn btn-primary btn-fw" type="button">Add retailer <i class="mdi mdi-plus"></i></button>-->
<!--  </span>-->
<!--</div>-->
