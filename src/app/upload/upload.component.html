<div *ngIf="submitSuccess && !submitError">
  <app-message-bar [messageBarEvent]="message"></app-message-bar>
</div>

<div class="row select-upload-modal" *ngIf="chooseUploadValue">
  <div style="display: flex; flex-direction: column;">
    <span style="font-size: 24px; font-weight: 200;">Choose an option.</span>
    <div style="padding-top: 40px; display: flex; flex-direction: column">
      <span style="color: #0c85d0">
        Uploading all the products
      </span>
      <button
        style="
    font-size: 20px;
    font-weight: 300;"
        (click)="chooseUpload(true)"
        class="btn btn-outline-primary"
        type="button"
      >
        All
      </button>
      <span style="color: deeppink; margin-top: 20px;">
        Uploading new products to your old list.
      </span>
      <button
        style="
    font-size: 20px;
    font-weight: 300;"
        (click)="chooseUpload(false)"
        class="btn btn-outline-danger"
        type="button"
      >
        New
      </button>
    </div>
  </div>
  <img style="width: 50%; float: right; margin: auto" src="../../assets/images/upload/choose_upload_option.svg" />
</div>
<div *ngIf="!chooseUploadValue" class="upload-centre">
  <div>
    <div *ngIf="submitSuccess && !submitError" class="text-info">
      The file was uploaded successfully. In case of any problem we will
      <strong style="color: #ec2c70 !important;">contact you</strong>.
    </div>

    <div *ngIf="force_update" class="text-info">
      Uploading entire product list.
      <strong
        (click)="openChooseModal()"
        style="color: #ec2c70 !important; text-decoration: underline; cursor: pointer;"
        >Click here</strong
      >
      to change.
    </div>

    <div *ngIf="!force_update" class="text-info">
      Uploading new products.
      <strong
        (click)="openChooseModal()"
        style="color: #ec2c70 !important; text-decoration: underline; cursor: pointer;"
        >Click here</strong
      >
      to change.
    </div>

    <div *ngIf="submitError" class="text-danger">
      There was an error submitting the file. please check the file is correct or contact us via support.
    </div>
  </div>
  <br />
  <br />
  <img class="img-upload" src="../../assets/images/upload/upload.svg" />
  <!--<span class="head">Upload Button Re-Imagined</span>-->
  <br />
  <br />
  <div *ngIf="!loading$" class="d-inline-block">
    <div *ngIf="software_error" class="text-danger">
      Please Select a Software from which csv is generated.
    </div>

    <div ngbDropdown>
      <button class="btn btn-primary" type="button" id="dropdownMenuButton1" ngbDropdownToggle>
        {{ software ? software : 'Please Select the Software' }}
      </button>
      <div ngbDropdownMenu aria-labelledby="dropdownMenuButton1">
        <h6 class="dropdown-header">Software</h6>
        <a class="dropdown-item" (click)="selectSoftware('care')">Care</a>
        <a class="dropdown-item" (click)="selectSoftware('sudhir')">Sudhir</a>
      </div>
    </div>
    <div [ngClass]="software ? 'fileUpload blue-btn btn width100' : 'fileUpload blue-btn btn width100 file-disabled'">
      <span>Upload your products </span>
      <input
        *ngIf="software"
        type="file"
        class="uploadlogo"
        [(ngModel)]="uploading_file"
        (change)="handleFileInput($event.target.files)"
      />
      <input *ngIf="!software" type="file file-disabled" class="uploadlogo" disabled />
    </div>
  </div>
  <div *ngIf="loading$" class="lc">
    <div class="preload">
      <div class="preload-status">
        <div class="preload-status-bar"></div>
        <div class="preload-status-info">UPLOADING</div>
      </div>
    </div>
  </div>
</div>
<div>
  <app-loader [isLoading]="loading$"></app-loader>
</div>
